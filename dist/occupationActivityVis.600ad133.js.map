{"version":3,"sources":["occupationActivityVis.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["drawOccupationVis","svgClass","ikigaiData","typesData","everyoneData","email","svg","d3","select","height","attr","width","averageLineWidth","titleVerticalPadding","legendVerticalPadding","padding","interGraphVerticalPadding","lineWidth","drawTitle","ikigaiList","category","title","id","x","y","occupations","company","description","venture","looking","studying","caring","exploring","other","myData","ikigai","find","d","keys","occupation","types","Object","forEach","o","emailsByOccupation","filter","map","average","length","activityCountMap","activityShortToLong","a","everyone","activity","substring","i","users","records","includes","recordCountByActivity","isNaN","console","log","maxUsers","max","graphAttr","textWidth","horizontalPadding","verticalPadding","occupationScale","scaleLinear","domain","range","usersScale","tooltipId","tooltip","addTooltip","baseImageSize","ikigaiGraph","append","overRepresentedActivity","numRecords","numUsers","imageSize","g","xml","then","imageData","imageBounds","documentElement","viewBox","baseVal","imageHeight","imageWidth","ikigaiColorHexArray","maxActivityMultiple","maxActivity","greyColor","tooltipText","toLowerCase","on","html","style","event","pageY","clientX","pageX","document","getElementById","clientWidth","drawText","textAnchor","fontWeight","colorLegendAttr","circleRadius","colorLegend","drawIkigaiColorLegend","activityLegendAttr","activityLegend","groupAverageAttr","groupAverageLegend","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","appendChild","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;AAKA,SAASA,iBAAT,CAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,EAA4DC,YAA5D,EAAwF;AAAA,MAAdC,KAAc,uEAAN,IAAM;AACpF,MAAIC,GAAG,GAAGC,EAAE,CAACC,MAAH,CAAUP,QAAV,CAAV;AACA,MAAIQ,MAAM,GAAGH,GAAG,CAACI,IAAJ,CAAS,QAAT,CAAb;AACA,MAAIC,KAAK,GAAGL,GAAG,CAACI,IAAJ,CAAS,OAAT,CAAZ;AACA,MAAIE,gBAAgB,GAAG,EAAvB;AACA,MAAIC,oBAAoB,GAAG,EAA3B;AACA,MAAIC,qBAAqB,GAAGC,OAAO,GAAG,GAAtC;AACA,MAAIC,yBAAyB,GAAG,EAAhC;AACA,MAAIC,SAAS,GAAG,GAAhB;AAEAC,EAAAA,SAAS,CAACZ,GAAD,EAAM,YAAN,CAAT,CAVoF,CAWpF;;AAEA,MAAIa,UAAU,GAAG,CAAC;AACVC,IAAAA,QAAQ,EAAE,UADA;AAEVC,IAAAA,KAAK,EAAE,WAFG;AAGVC,IAAAA,EAAE,EAAE,UAHM;AAIVC,IAAAA,CAAC,EAAE,CAJO;AAKVC,IAAAA,CAAC,EAAEX;AALO,GAAD,EAOb;AACIO,IAAAA,QAAQ,EAAE,YADd;AAEIC,IAAAA,KAAK,EAAE,aAFX;AAGIC,IAAAA,EAAE,EAAE,KAHR;AAIIC,IAAAA,CAAC,EAAEZ,KAAK,GAAG,CAJf;AAKIa,IAAAA,CAAC,EAAEX;AALP,GAPa,EAcb;AACIO,IAAAA,QAAQ,EAAE,QADd;AAEIC,IAAAA,KAAK,EAAE,UAFX;AAGIC,IAAAA,EAAE,EAAE,SAHR;AAIIC,IAAAA,CAAC,EAAE,CAJP;AAKIC,IAAAA,CAAC,EAAEX,oBAAoB,GAAG,CAACJ,MAAM,GAAGI,oBAAT,GAAgCC,qBAAjC,IAA0D,CAAjF,GAAqFE,yBAAyB,GAAG;AALxH,GAda,EAqBb;AACII,IAAAA,QAAQ,EAAE,WADd;AAEIC,IAAAA,KAAK,EAAE,YAFX;AAGIC,IAAAA,EAAE,EAAE,WAHR;AAIIC,IAAAA,CAAC,EAAEZ,KAAK,GAAG,CAJf;AAKIa,IAAAA,CAAC,EAAEX,oBAAoB,GAAG,CAACJ,MAAM,GAAGI,oBAAT,GAAgCC,qBAAjC,IAA0D,CAAjF,GAAqFE,yBAAyB,GAAG;AALxH,GArBa,CAAjB;AA8BA,MAAIS,WAAW,GAAG;AACdC,IAAAA,OAAO,EAAE;AAAEL,MAAAA,KAAK,EAAE,SAAT;AAAoBM,MAAAA,WAAW,EAAE;AAAjC,KADK;AAEdC,IAAAA,OAAO,EAAE;AAAEP,MAAAA,KAAK,EAAE,SAAT;AAAoBM,MAAAA,WAAW,EAAE;AAAjC,KAFK;AAGdE,IAAAA,OAAO,EAAE;AAAER,MAAAA,KAAK,EAAE,SAAT;AAAoBM,MAAAA,WAAW,EAAE;AAAjC,KAHK;AAIdG,IAAAA,QAAQ,EAAE;AAAET,MAAAA,KAAK,EAAE,UAAT;AAAqBM,MAAAA,WAAW,EAAE;AAAlC,KAJI;AAKdI,IAAAA,MAAM,EAAE;AAAEV,MAAAA,KAAK,EAAE,QAAT;AAAmBM,MAAAA,WAAW,EAAE;AAAhC,KALM;AAMdK,IAAAA,SAAS,EAAE;AAAEX,MAAAA,KAAK,EAAE,WAAT;AAAsBM,MAAAA,WAAW,EAAE;AAAnC,KANG;AAOdM,IAAAA,KAAK,EAAE;AAAEZ,MAAAA,KAAK,EAAE,OAAT;AAAkBM,MAAAA,WAAW,EAAE;AAA/B;AAPO,GAAlB;AAUA,MAAIO,MAAM,GAAG,IAAb;;AACA,MAAI7B,KAAK,IAAI,IAAb,EAAmB;AACf6B,IAAAA,MAAM,GAAG;AACLC,MAAAA,MAAM,EAAEjC,UAAU,CAACkC,IAAX,CAAgB,UAAAC,CAAC,EAAI;AAAE,eAAOA,CAAC,CAACC,IAAI,CAACH,MAAL,CAAY9B,KAAb,CAAD,IAAwBA,KAA/B;AAAsC,OAA7D,EAA+DiC,IAAI,CAACH,MAAL,CAAYf,QAA3E,CADH;AAELmB,MAAAA,UAAU,EAAEpC,SAAS,CAACiC,IAAV,CAAe,UAAAC,CAAC,EAAI;AAAE,eAAOA,CAAC,CAACC,IAAI,CAACE,KAAL,CAAWnC,KAAZ,CAAD,IAAuBA,KAA9B;AAAqC,OAA3D,EAA6DiC,IAAI,CAACE,KAAL,CAAWD,UAAxE;AAFP,KAAT;AAIH,GA3DmF,CA6DpF;;;AACAE,EAAAA,MAAM,CAACH,IAAP,CAAYb,WAAZ,EAAyBiB,OAAzB,CAAiC,UAAAC,CAAC,EAAI;AAClC,QAAIC,kBAAkB,GAAGzC,SAAS,CAAC0C,MAAV,CAAiB,UAAAR,CAAC,EAAI;AAAE,aAAOA,CAAC,CAACC,IAAI,CAACE,KAAL,CAAWD,UAAZ,CAAD,IAA4Bd,WAAW,CAACkB,CAAD,CAAX,CAAehB,WAAlD;AAA+D,KAAvF,EACpBmB,GADoB,CAChB,UAAAT,CAAC,EAAI;AAAE,aAAOA,CAAC,CAACC,IAAI,CAACE,KAAL,CAAWnC,KAAZ,CAAR;AAA4B,KADnB,CAAzB;AAEAoB,IAAAA,WAAW,CAACkB,CAAD,CAAX,CAAeI,OAAf,GAAyBH,kBAAkB,CAACI,MAAnB,GAA4B7B,UAAU,CAAC6B,MAAhE;AACH,GAJD,EA9DoF,CAoEpF;;AACA,MAAIC,gBAAgB,GAAG,EAAvB;AACAR,EAAAA,MAAM,CAACH,IAAP,CAAYY,mBAAZ,EAAiCR,OAAjC,CAAyC,UAAAS,CAAC,EAAI;AAC1C;AACA;AACAF,IAAAA,gBAAgB,CAACE,CAAD,CAAhB,GAAsB/C,YAAY,CAACyC,MAAb,CAAoB,UAAAR,CAAC,EAAI;AAC3C,aAAOA,CAAC,CAACC,IAAI,CAACc,QAAL,CAAcC,QAAf,CAAD,CAA0BC,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,KAA6CH,CAApD;AACH,KAFqB,EAEnBH,MAFmB,GAEV5C,YAAY,CAAC4C,MAFzB;AAGH,GAND,EAtEoF,CA8EpF;;AACA7B,EAAAA,UAAU,CAACuB,OAAX,CAAmB,UAAAa,CAAC,EAAI;AACpBA,IAAAA,CAAC,CAACC,KAAF,GAAUtD,UAAU,CAAC2C,MAAX,CAAkB,UAAAR,CAAC,EAAI;AAAE,aAAOA,CAAC,CAACC,IAAI,CAACH,MAAL,CAAYf,QAAb,CAAD,IAA2BmC,CAAC,CAACnC,QAApC;AAA8C,KAAvE,EACL0B,GADK,CACD,UAAAT,CAAC,EAAI;AAAE,aAAOA,CAAC,CAACC,IAAI,CAACH,MAAL,CAAY9B,KAAb,CAAR;AAA6B,KADnC,CAAV,CADoB,CAGpB;;AACAkD,IAAAA,CAAC,CAACE,OAAF,GAAYrD,YAAY,CAACyC,MAAb,CAAoB,UAAAR,CAAC,EAAI;AAAE,aAAOkB,CAAC,CAACC,KAAF,CAAQE,QAAR,CAAiBrB,CAAC,CAACC,IAAI,CAACc,QAAL,CAAc/C,KAAf,CAAlB,CAAP;AAAiD,KAA5E,CAAZ;AACAoC,IAAAA,MAAM,CAACH,IAAP,CAAYb,WAAZ,EAAyBiB,OAAzB,CAAiC,UAAAC,CAAC,EAAI;AAClC,UAAIC,kBAAkB,GAAGzC,SAAS,CAAC0C,MAAV,CAAiB,UAAAR,CAAC,EAAI;AAAE,eAAOZ,WAAW,CAACkB,CAAD,CAAX,CAAehB,WAAf,IAA8BU,CAAC,CAACC,IAAI,CAACE,KAAL,CAAWD,UAAZ,CAAtC;AAA+D,OAAvF,EACpBO,GADoB,CAChB,UAAAT,CAAC,EAAI;AAAE,eAAOA,CAAC,CAACC,IAAI,CAACE,KAAL,CAAWnC,KAAZ,CAAR;AAA4B,OADnB,CAAzB;AAEAkD,MAAAA,CAAC,CAACZ,CAAD,CAAD,GAAO,EAAP,CAHkC,CAIlC;;AACAY,MAAAA,CAAC,CAACZ,CAAD,CAAD,CAAKa,KAAL,GAAaD,CAAC,CAACC,KAAF,CAAQX,MAAR,CAAe,UAAAR,CAAC,EAAI;AAAE,eAAOO,kBAAkB,CAACc,QAAnB,CAA4BrB,CAA5B,CAAP;AAAuC,OAA7D,CAAb;AACAkB,MAAAA,CAAC,CAACZ,CAAD,CAAD,CAAKc,OAAL,GAAeF,CAAC,CAACE,OAAF,CAAUZ,MAAV,CAAiB,UAAAR,CAAC,EAAI;AAAE,eAAOO,kBAAkB,CAACc,QAAnB,CAA4BrB,CAAC,CAACC,IAAI,CAACc,QAAL,CAAc/C,KAAf,CAA7B,CAAP;AAA4D,OAApF,CAAf;AACAoC,MAAAA,MAAM,CAACH,IAAP,CAAYY,mBAAZ,EAAiCR,OAAjC,CAAyC,UAAAS,CAAC,EAAI;AAC1C;AACA,YAAIQ,qBAAqB,GAAGJ,CAAC,CAACZ,CAAD,CAAD,CAAKc,OAAL,CAAaZ,MAAb,CAAoB,UAAAR,CAAC,EAAI;AAAE,iBAAOA,CAAC,CAACC,IAAI,CAACc,QAAL,CAAcC,QAAf,CAAD,CAA0BC,SAA1B,CAAoC,CAApC,EAAuC,CAAvC,KAA6CH,CAApD;AAAuD,SAAlF,EAAoFH,MAAhH,CAF0C,CAG1C;;AACAO,QAAAA,CAAC,CAACZ,CAAD,CAAD,CAAKQ,CAAL,IAAWQ,qBAAqB,GAAGJ,CAAC,CAACZ,CAAD,CAAD,CAAKc,OAAL,CAAaT,MAAtC,GAAgDC,gBAAgB,CAACE,CAAD,CAA1E;;AACA,YAAIS,KAAK,CAACL,CAAC,CAACZ,CAAD,CAAD,CAAKQ,CAAL,CAAD,CAAT,EAAoB;AAChBI,UAAAA,CAAC,CAACZ,CAAD,CAAD,CAAKQ,CAAL,IAAU,CAAV;AACH;AACJ,OARD;AASH,KAhBD;AAiBH,GAtBD;AAwBAU,EAAAA,OAAO,CAACC,GAAR,CAAY3C,UAAZ;AAEA,MAAI4C,QAAQ,GAAGxD,EAAE,CAACyD,GAAH,CAAO7C,UAAP,EAAmB,UAAAoC,CAAC,EAAI;AACnC,WAAOhD,EAAE,CAACyD,GAAH,CAAOvB,MAAM,CAACH,IAAP,CAAYb,WAAZ,CAAP,EAAiC,UAAAkB,CAAC,EAAI;AACzC,aAAOY,CAAC,CAACZ,CAAD,CAAD,CAAKa,KAAL,CAAWR,MAAlB;AACH,KAFM,CAAP;AAGH,GAJc,CAAf,CAzGoF,CA8GpF;;AAEA,MAAIiB,SAAS,GAAG;AACZC,IAAAA,SAAS,EAAE,GADC;AAEZzD,IAAAA,MAAM,EAAE,CAACA,MAAM,GAAGI,oBAAT,GAAgCC,qBAAhC,GAAwDE,yBAAzD,IAAsF,CAFlF;AAGZL,IAAAA,KAAK,EAAEA,KAAK,GAAG,CAHH;AAIZwD,IAAAA,iBAAiB,EAAE,EAJP;AAKZC,IAAAA,eAAe,EAAE;AALL,GAAhB;AAQA,MAAIC,eAAe,GAAG9D,EAAE,CAAC+D,WAAH,GACjBC,MADiB,CACV,CAAC,CAAD,EAAI9B,MAAM,CAACH,IAAP,CAAYb,WAAZ,EAAyBuB,MAAzB,GAAkC,CAAtC,CADU,EAEjBwB,KAFiB,CAEX,CAACP,SAAS,CAACC,SAAV,GAAsBD,SAAS,CAACE,iBAAV,GAA8B,CAArD,EAAwDF,SAAS,CAACtD,KAAV,GAAkBsD,SAAS,CAACE,iBAAV,GAA8B,CAAxG,CAFW,CAAtB;AAGA,MAAIM,UAAU,GAAGlE,EAAE,CAAC+D,WAAH,GACZC,MADY,CACL,CAAC,CAAD,EAAIR,QAAJ,CADK,EAEZS,KAFY,CAEN,CAACP,SAAS,CAACxD,MAAV,GAAmB,CAApB,EAAuB,CAAvB,CAFM,CAAjB,CA3HoF,CA+HpF;;AACA,MAAIiE,SAAS,GAAG,6BAAhB;AACA,MAAIC,OAAO,GAAGC,UAAU,CAACF,SAAD,CAAxB;AAEA,MAAIG,aAAa,GAAGJ,UAAU,CAAC,CAAD,CAAV,GAAgBA,UAAU,CAAC,CAAD,CAA9C;AACAtD,EAAAA,UAAU,CAACuB,OAAX,CAAmB,UAAAP,MAAM,EAAI;AACzB,QAAI2C,WAAW,GAAGxE,GAAG,CAACyE,MAAJ,CAAW,GAAX,EACbrE,IADa,CACR,WADQ,EACK,eAAeyB,MAAM,CAACZ,CAAtB,GAA0B,IAA1B,GAAiCY,MAAM,CAACX,CAAxC,GAA4C,GADjD,CAAlB;AAGAiB,IAAAA,MAAM,CAACH,IAAP,CAAYb,WAAZ,EAAyBiB,OAAzB,CAAiC,UAACC,CAAD,EAAIY,CAAJ,EAAU;AACvC,UAAIhB,UAAU,GAAGd,WAAW,CAACkB,CAAD,CAA5B;AACA,UAAIqC,uBAAuB,GAAG,MAA9B;AACA,UAAIC,UAAU,GAAG9C,MAAM,CAACQ,CAAD,CAAN,CAAUc,OAAV,CAAkBT,MAAnC;AACA,UAAIkC,QAAQ,GAAG/C,MAAM,CAACQ,CAAD,CAAN,CAAUa,KAAV,CAAgBR,MAA/B;AACA,UAAImC,SAAS,GAAGN,aAAhB;AACA,UAAIO,CAAC,GAAGN,WAAW,CAACC,MAAZ,CAAmB,GAAnB,CAAR;AAEAxE,MAAAA,EAAE,CAAC8E,GAAH,CAAO,YAAY9C,UAAU,CAAClB,KAAvB,GAA+B,MAAtC,EAA8CiE,IAA9C,CAAmD,UAAAC,SAAS,EAAI;AAC5D;AACA;AACA,YAAIC,WAAW,GAAGD,SAAS,CAACE,eAAV,CAA0BC,OAA1B,CAAkCC,OAApD;AACA,YAAIC,WAAW,GAAG3B,SAAS,CAACxD,MAAV,GAAmB,GAArC;AACA,YAAIoF,UAAU,GAAGL,WAAW,CAAC7E,KAAZ,GAAoB6E,WAAW,CAAC/E,MAAhC,GAAyCmF,WAA1D;AACAR,QAAAA,CAAC,CAACL,MAAF,CAAS,OAAT,EACKrE,IADL,CACU,YADV,EACwB,YAAY6B,UAAU,CAAClB,KAAvB,GAA+B,MADvD,EAEKX,IAFL,CAEU,GAFV,EAEe2D,eAAe,CAACd,CAAD,CAAf,GAAqBsC,UAAU,GAAG,CAFjD,EAGKnF,IAHL,CAGU,GAHV,EAGeuD,SAAS,CAACxD,MAAV,GAAmB,CAHlC,EAIKC,IAJL,CAIU,OAJV,EAImBmF,UAJnB,EAKKnF,IALL,CAKU,QALV,EAKoBkF,WALpB;AAMH,OAZD;;AAcA,UAAIX,UAAU,GAAG,CAAjB,EAAoB;AAChB,YAAIR,UAAU,CAAC,CAAD,CAAV,GAAgBA,UAAU,CAACS,QAAD,CAA1B,IAAwCL,aAA5C,EAA2D;AACvDM,UAAAA,SAAS,GAAGV,UAAU,CAAC,CAAD,CAAV,GAAgBA,UAAU,CAACS,QAAD,CAAtC;AACH;;AACDE,QAAAA,CAAC,CAACL,MAAF,CAAS,MAAT,EACKrE,IADL,CACU,IADV,EACgB2D,eAAe,CAACd,CAAD,CAD/B,EAEK7C,IAFL,CAEU,IAFV,EAEgB2D,eAAe,CAACd,CAAD,CAF/B,EAGK7C,IAHL,CAGU,IAHV,EAGgB+D,UAAU,CAAC,CAAD,CAH1B,EAIK/D,IAJL,CAIU,IAJV,EAIgB+D,UAAU,CAACS,QAAD,CAAV,GAAuBC,SAJvC,EAKKzE,IALL,CAKU,QALV,EAKoBoF,mBAAmB,CAAC3D,MAAM,CAACf,QAAR,CALvC,EAMKV,IANL,CAMU,cANV,EAM0BO,SAN1B,EAOKP,IAPL,CAOU,gBAPV,EAO4B,OAP5B;AAQH;;AAED,UAAIqF,mBAAmB,GAAGxF,EAAE,CAACyD,GAAH,CAAOvB,MAAM,CAACH,IAAP,CAAYY,mBAAZ,CAAP,EAAyC,UAAAC,CAAC,EAAI;AAAE,eAAOhB,MAAM,CAACQ,CAAD,CAAN,CAAUQ,CAAV,CAAP;AAAqB,OAArE,CAA1B;;AACA,UAAI4C,mBAAmB,GAAG,CAA1B,EAA6B;AACzB,YAAIC,WAAW,GAAGvD,MAAM,CAACH,IAAP,CAAYY,mBAAZ,EAAiCd,IAAjC,CAAsC,UAAAe,CAAC,EAAI;AAAE,iBAAOhB,MAAM,CAACQ,CAAD,CAAN,CAAUQ,CAAV,KAAgB4C,mBAAvB;AAA4C,SAAzF,CAAlB;AACAX,QAAAA,CAAC,CAACL,MAAF,CAAS,OAAT,EACKrE,IADL,CACU,YADV,EACwB,YAAYsF,WAAZ,GAA0B,MADlD,EAEKtF,IAFL,CAEU,GAFV,EAEe2D,eAAe,CAACd,CAAD,CAAf,GAAqB4B,SAAS,GAAG,CAFhD,EAGKzE,IAHL,CAGU,GAHV,EAGe+D,UAAU,CAACS,QAAD,CAHzB,EAIKxE,IAJL,CAIU,OAJV,EAImByE,SAJnB,EAKKzE,IALL,CAKU,QALV,EAKoByE,SALpB,EAMKzE,IANL,CAMU,QANV,EAMoB,YAAW;AAAE,iBAAO,UAAUyB,MAAM,CAACb,EAAjB,GAAsB,GAA7B;AAAmC,SANpE;AAOA0D,QAAAA,uBAAuB,GAAG9B,mBAAmB,CAAC8C,WAAD,CAA7C;AACH;;AAED,UAAIzD,UAAU,CAACQ,OAAX,GAAqB,CAAzB,EAA4B;AACxBqC,QAAAA,CAAC,CAACL,MAAF,CAAS,MAAT,EACKrE,IADL,CACU,IADV,EACgB2D,eAAe,CAACd,CAAD,CAAf,GAAqB3C,gBAAgB,GAAG,CADxD,EAEKF,IAFL,CAEU,IAFV,EAEgB2D,eAAe,CAACd,CAAD,CAAf,GAAqB3C,gBAAgB,GAAG,CAFxD,EAGKF,IAHL,CAGU,IAHV,EAGgB+D,UAAU,CAAClC,UAAU,CAACQ,OAAZ,CAH1B,EAIKrC,IAJL,CAIU,IAJV,EAIgB+D,UAAU,CAAClC,UAAU,CAACQ,OAAZ,CAJ1B,EAKKrC,IALL,CAKU,QALV,EAKoBuF,SALpB,EAMKvF,IANL,CAMU,cANV,EAM0BO,SAN1B,EAOKP,IAPL,CAOU,gBAPV,EAO4B,OAP5B;AAQH;;AAED,UAAIwF,WAAW,GAAG,0BAA0B/D,MAAM,CAACd,KAAjC,GACd,+BADc,GACoBI,WAAW,CAACkB,CAAD,CAAX,CAAehB,WAAf,CAA2BwE,WAA3B,EADpB,GAEd,oCAFc,GAEyBjB,QAFzB,GAGd,8CAHc,GAGmCF,uBAAuB,CAACmB,WAAxB,EAHrD;;AAKA,UAAIjE,MAAM,IAAI,IAAV,IAAkBA,MAAM,CAACC,MAAP,IAAiBA,MAAM,CAACf,QAA1C,IAAsDc,MAAM,CAACK,UAAP,IAAqBd,WAAW,CAACkB,CAAD,CAAX,CAAehB,WAA9F,EAA2G;AACvGuE,QAAAA,WAAW,IAAI,0DAAf;AACH;;AAEDd,MAAAA,CAAC,CAACgB,EAAF,CAAK,WAAL,EAAkB,YAAW;AACzB;AACAzB,QAAAA,OAAO,CAAC0B,IAAR,CAAaH,WAAb,EACKI,KADL,CACW,YADX,EACyB,SADzB,EAEKA,KAFL,CAEW,KAFX,EAEkBC,KAAK,CAACC,KAAN,GAAc,EAFhC,EAGKF,KAHL,CAGW,MAHX,EAGmB,YAAW;AACtB,cAAI/F,EAAE,CAACgG,KAAH,CAASE,OAAT,GAAmB,GAAvB,EAA4B;AACxB,mBAAOF,KAAK,CAACG,KAAN,GAAc,EAAd,GAAmB,IAA1B;AACH,WAFD,MAEO;AACH,mBAAOH,KAAK,CAACG,KAAN,GAAcC,QAAQ,CAACC,cAAT,CAAwBlC,SAAxB,EAAmCmC,WAAjD,GAA+D,EAA/D,GAAoE,IAA3E;AACH;AACJ,SATL;AAUH,OAZD,EAYGT,EAZH,CAYM,UAZN,EAYkB,YAAW;AACzBzB,QAAAA,OAAO,CAAC2B,KAAR,CAAc,YAAd,EAA4B,QAA5B;AACH,OAdD;AAeH,KApFD;AAsFAQ,IAAAA,QAAQ,CAAChC,WAAD,EAAc,OAAd,EAAuB;AAC3BvD,MAAAA,CAAC,EAAE0C,SAAS,CAACC,SADc;AAE3B1C,MAAAA,CAAC,EAAEiD,UAAU,CAACV,QAAD,CAFc;AAG3BgD,MAAAA,UAAU,EAAE;AAHe,KAAvB,CAAR;AAKAD,IAAAA,QAAQ,CAAChC,WAAD,EAAc3C,MAAM,CAACd,KAArB,EAA4B;AAChCE,MAAAA,CAAC,EAAE0C,SAAS,CAACC,SADmB;AAEhC1C,MAAAA,CAAC,EAAEyC,SAAS,CAACxD,MAAV,GAAmB,CAFU;AAGhCsG,MAAAA,UAAU,EAAE,KAHoB;AAIhCC,MAAAA,UAAU,EAAE;AAJoB,KAA5B,CAAR;AAMAlC,IAAAA,WAAW,CAACC,MAAZ,CAAmB,MAAnB,EACKrE,IADL,CACU,IADV,EACgBuD,SAAS,CAACC,SAAV,GAAsBD,SAAS,CAACE,iBADhD,EAEKzD,IAFL,CAEU,IAFV,EAEgBuD,SAAS,CAACtD,KAF1B,EAGKD,IAHL,CAGU,IAHV,EAGgBuD,SAAS,CAACxD,MAAV,GAAmB,CAHnC,EAIKC,IAJL,CAIU,IAJV,EAIgBuD,SAAS,CAACxD,MAAV,GAAmB,CAJnC,EAKKC,IALL,CAKU,QALV,EAKoBuF,SALpB,EAMKvF,IANL,CAMU,cANV,EAM0BO,SAN1B,EAOKP,IAPL,CAOU,gBAPV,EAO4B,OAP5B;AAQH,GA7GD;AA+GA,MAAIuG,eAAe,GAAG;AAClB1F,IAAAA,CAAC,EAAER,OADe;AAElBS,IAAAA,CAAC,EAAEf,MAAM,GAAGM,OAAO,GAAG,GAFJ;AAGlBJ,IAAAA,KAAK,EAAE,GAHW;AAIlBuG,IAAAA,YAAY,EAAE,CAJI;AAKlB9C,IAAAA,eAAe,EAAE,EALC;AAMlBD,IAAAA,iBAAiB,EAAE;AAND,GAAtB;AASA,MAAIgD,WAAW,GAAG7G,GAAG,CAACyE,MAAJ,CAAW,GAAX,EACbrE,IADa,CACR,OADQ,EACCuG,eAAe,CAACtG,KADjB,EAEbD,IAFa,CAER,WAFQ,EAEK,eAAeuG,eAAe,CAAC1F,CAA/B,GAAmC,GAAnC,GAAyC0F,eAAe,CAACzF,CAAzD,GAA6D,GAFlE,CAAlB;AAIA4F,EAAAA,qBAAqB,CAACD,WAAD,EAAcF,eAAd,CAArB;AAEA,MAAII,kBAAkB,GAAG;AACrB9F,IAAAA,CAAC,EAAE0F,eAAe,CAAC1F,CAAhB,GAAoB0F,eAAe,CAACtG,KAApC,GAA4C,EAD1B;AAErBa,IAAAA,CAAC,EAAEf,MAAM,GAAGM,OAAO,GAAG,GAFD;AAGrBJ,IAAAA,KAAK,EAAE,GAHc;AAIrBwE,IAAAA,SAAS,EAAE;AAJU,GAAzB;AAOA,MAAImC,cAAc,GAAGhH,GAAG,CAACyE,MAAJ,CAAW,GAAX,EAChBrE,IADgB,CACX,OADW,EACF2G,kBAAkB,CAAC1G,KADjB,EAEhBD,IAFgB,CAEX,WAFW,EAEE,eAAe2G,kBAAkB,CAAC9F,CAAlC,GAAsC,GAAtC,GAA4C8F,kBAAkB,CAAC7F,CAA/D,GAAmE,GAFrE,CAArB;AAIA8F,EAAAA,cAAc,CAACvC,MAAf,CAAsB,OAAtB,EACKrE,IADL,CACU,YADV,EACwB,gBADxB,EAEKA,IAFL,CAEU,GAFV,EAEe2G,kBAAkB,CAAC1G,KAAnB,GAA2B,CAA3B,GAA+B0G,kBAAkB,CAAClC,SAAnB,GAA+B,CAF7E,EAGKzE,IAHL,CAGU,GAHV,EAGe,CAHf,EAIKA,IAJL,CAIU,OAJV,EAImB2G,kBAAkB,CAAClC,SAJtC,EAKKzE,IALL,CAKU,QALV,EAKoB2G,kBAAkB,CAAClC,SALvC;AAOA2B,EAAAA,QAAQ,CAACQ,cAAD,EAAiB,kBAAjB,EAAqC;AACzC/F,IAAAA,CAAC,EAAE8F,kBAAkB,CAAC1G,KAAnB,GAA2B,CADW;AAEzCa,IAAAA,CAAC,EAAE6F,kBAAkB,CAAClC,SAAnB,GAA+B;AAFO,GAArC,CAAR;AAIA2B,EAAAA,QAAQ,CAACQ,cAAD,EAAiB,UAAjB,EAA6B;AACjC/F,IAAAA,CAAC,EAAE8F,kBAAkB,CAAC1G,KAAnB,GAA2B,CADG;AAEjCa,IAAAA,CAAC,EAAE6F,kBAAkB,CAAClC,SAAnB,GAA+B;AAFD,GAA7B,CAAR;AAKA,MAAIoC,gBAAgB,GAAG;AACnBhG,IAAAA,CAAC,EAAE8F,kBAAkB,CAAC9F,CAAnB,GAAuB8F,kBAAkB,CAAC1G,KAA1C,GAAkD,EADlC;AAEnBa,IAAAA,CAAC,EAAEf,MAAM,GAAGM,OAAO,GAAG,GAFH;AAGnBJ,IAAAA,KAAK,EAAE,GAHY;AAInBwE,IAAAA,SAAS,EAAE;AAJQ,GAAvB;AAOA,MAAIqC,kBAAkB,GAAGlH,GAAG,CAACyE,MAAJ,CAAW,GAAX,EACpBrE,IADoB,CACf,OADe,EACN6G,gBAAgB,CAAC5G,KADX,EAEpBD,IAFoB,CAEf,WAFe,EAEF,eAAe6G,gBAAgB,CAAChG,CAAhC,GAAoC,GAApC,GAA0CgG,gBAAgB,CAAC/F,CAA3D,GAA+D,GAF7D,CAAzB;AAIAgG,EAAAA,kBAAkB,CAACzC,MAAnB,CAA0B,MAA1B,EACKrE,IADL,CACU,IADV,EACgB,CADhB,EAEKA,IAFL,CAEU,IAFV,EAEgBE,gBAFhB,EAGKF,IAHL,CAGU,IAHV,EAGgB2G,kBAAkB,CAAClC,SAAnB,GAA+B,EAH/C,EAIKzE,IAJL,CAIU,IAJV,EAIgB2G,kBAAkB,CAAClC,SAAnB,GAA+B,EAJ/C,EAKKzE,IALL,CAKU,QALV,EAKoBuF,SALpB,EAMKvF,IANL,CAMU,cANV,EAM0BO,SAN1B,EAOKP,IAPL,CAOU,gBAPV,EAO4B,OAP5B;AASAoG,EAAAA,QAAQ,CAACU,kBAAD,EAAqB,sBAArB,EAA6C;AACjDjG,IAAAA,CAAC,EAAEX,gBAAgB,GAAG,EAD2B;AAEjDY,IAAAA,CAAC,EAAE6F,kBAAkB,CAAClC,SAAnB,GAA+B,EAFe;AAGjD4B,IAAAA,UAAU,EAAE;AAHqC,GAA7C,CAAR;AAMH;;;AC5TD,IAAIU,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BJ,EAAAA,SAAS,CAACK,IAAV,CAAe,IAAf,EAAqBD,UAArB;AACA,OAAKE,GAAL,GAAW;AACTC,IAAAA,IAAI,EAAEN,MAAM,CAACC,MAAP,CAAcM,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAUC,EAAV,EAAc;AACpB,WAAKH,gBAAL,CAAsBI,IAAtB,CAA2BD,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOTE,IAAAA,OAAO,EAAE,UAAUF,EAAV,EAAc;AACrB,WAAKF,iBAAL,CAAuBG,IAAvB,CAA4BD,EAA5B;AACD;AATQ,GAAX;AAYAX,EAAAA,MAAM,CAACC,MAAP,CAAcM,OAAd,GAAwB,IAAxB;AACD;;AAEDP,MAAM,CAACC,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIY,aAAJ,EAAmBC,cAAnB;AAEA,IAAIC,MAAM,GAAGhB,MAAM,CAACC,MAAP,CAAce,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACC,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAApD;AACA,MAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIJ,SAAJ,CAAcG,QAAQ,GAAG,KAAX,GAAmBF,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;AACAG,EAAAA,EAAE,CAACC,SAAH,GAAe,UAAS3C,KAAT,EAAgB;AAC7BkC,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAIT,IAAI,GAAGkB,IAAI,CAACC,KAAL,CAAW7C,KAAK,CAAC0B,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAACoB,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAIC,OAAO,GAAG,KAAd;AACArB,MAAAA,IAAI,CAACsB,MAAL,CAAY7G,OAAZ,CAAoB,UAAS8G,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAAClI,EAA7B,CAA9B;;AACA,cAAIoI,SAAJ,EAAe;AACbJ,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAIrB,IAAI,CAACsB,MAAL,CAAYO,KAAZ,CAAkB,UAASN,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAACH,IAAN,KAAe,KAAf,IAAwBG,KAAK,CAACO,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIV,OAAJ,EAAa;AACXzF,QAAAA,OAAO,CAACoG,KAAR;AAEAhC,QAAAA,IAAI,CAACsB,MAAL,CAAY7G,OAAZ,CAAoB,UAAU8G,KAAV,EAAiB;AACnCU,UAAAA,QAAQ,CAACN,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAd,QAAAA,cAAc,CAAChG,OAAf,CAAuB,UAAUyH,CAAV,EAAa;AAClCC,UAAAA,YAAY,CAACD,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO,IAAIpB,QAAQ,CAACsB,MAAb,EAAqB;AAAE;AAC5BtB,QAAAA,QAAQ,CAACsB,MAAT;AACD;AACF;;AAED,QAAIpC,IAAI,CAACoB,IAAL,KAAc,QAAlB,EAA4B;AAC1BJ,MAAAA,EAAE,CAACqB,KAAH;;AACArB,MAAAA,EAAE,CAACsB,OAAH,GAAa,YAAY;AACvBxB,QAAAA,QAAQ,CAACsB,MAAT;AACD,OAFD;AAGD;;AAED,QAAIpC,IAAI,CAACoB,IAAL,KAAc,gBAAlB,EAAoC;AAClCxF,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AAEA0G,MAAAA,kBAAkB;AACnB;;AAED,QAAIvC,IAAI,CAACoB,IAAL,KAAc,OAAlB,EAA2B;AACzBxF,MAAAA,OAAO,CAAC4G,KAAR,CAAc,kBAAkBxC,IAAI,CAACwC,KAAL,CAAWC,OAA7B,GAAuC,IAAvC,GAA8CzC,IAAI,CAACwC,KAAL,CAAWE,KAAvE;AAEAH,MAAAA,kBAAkB;AAElB,UAAII,OAAO,GAAGC,kBAAkB,CAAC5C,IAAD,CAAhC;AACAtB,MAAAA,QAAQ,CAACmE,IAAT,CAAcC,WAAd,CAA0BH,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASJ,kBAAT,GAA8B;AAC5B,MAAII,OAAO,GAAGjE,QAAQ,CAACC,cAAT,CAAwBa,UAAxB,CAAd;;AACA,MAAImD,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACI,MAAR;AACD;AACF;;AAED,SAASH,kBAAT,CAA4B5C,IAA5B,EAAkC;AAChC,MAAI2C,OAAO,GAAGjE,QAAQ,CAACsE,aAAT,CAAuB,KAAvB,CAAd;AACAL,EAAAA,OAAO,CAACtJ,EAAR,GAAamG,UAAb,CAFgC,CAIhC;;AACA,MAAIiD,OAAO,GAAG/D,QAAQ,CAACsE,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAIC,UAAU,GAAGvE,QAAQ,CAACsE,aAAT,CAAuB,KAAvB,CAAjB;AACAP,EAAAA,OAAO,CAACS,SAAR,GAAoBlD,IAAI,CAACwC,KAAL,CAAWC,OAA/B;AACAQ,EAAAA,UAAU,CAACC,SAAX,GAAuBlD,IAAI,CAACwC,KAAL,CAAWE,KAAlC;AAEAC,EAAAA,OAAO,CAACQ,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0EV,OAAO,CAACU,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIYF,UAAU,CAACE,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAOR,OAAP;AAED;;AAED,SAASS,UAAT,CAAoBzD,MAApB,EAA4BtG,EAA5B,EAAgC;AAC9B,MAAIgK,OAAO,GAAG1D,MAAM,CAAC0D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOnJ,CAAP,EAAUoJ,GAAV;;AAEA,OAAKD,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAKjJ,CAAL,IAAUiJ,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBC,MAAAA,GAAG,GAAGH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcnJ,CAAd,CAAN;;AACA,UAAIoJ,GAAG,KAAKnK,EAAR,IAAeoK,KAAK,CAACC,OAAN,CAAcF,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAACzI,MAAJ,GAAa,CAAd,CAAH,KAAwB1B,EAAjE,EAAsE;AACpEiK,QAAAA,OAAO,CAAChD,IAAR,CAAaiD,CAAb;AACD;AACF;AACF;;AAED,MAAI5D,MAAM,CAACe,MAAX,EAAmB;AACjB4C,IAAAA,OAAO,GAAGA,OAAO,CAACK,MAAR,CAAeP,UAAU,CAACzD,MAAM,CAACe,MAAR,EAAgBrH,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAOiK,OAAP;AACD;;AAED,SAASrB,QAAT,CAAkBtC,MAAlB,EAA0B4B,KAA1B,EAAiC;AAC/B,MAAI8B,OAAO,GAAG1D,MAAM,CAAC0D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAAC9B,KAAK,CAAClI,EAAP,CAAP,IAAqB,CAACsG,MAAM,CAACe,MAAjC,EAAyC;AACvC,QAAIL,EAAE,GAAG,IAAIuD,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6CrC,KAAK,CAACO,SAAN,CAAgBC,EAA7D,CAAT;AACAR,IAAAA,KAAK,CAACC,KAAN,GAAc,CAAC6B,OAAO,CAAC9B,KAAK,CAAClI,EAAP,CAAtB;AACAgK,IAAAA,OAAO,CAAC9B,KAAK,CAAClI,EAAP,CAAP,GAAoB,CAACgH,EAAD,EAAKkB,KAAK,CAACsC,IAAX,CAApB;AACD,GAJD,MAIO,IAAIlE,MAAM,CAACe,MAAX,EAAmB;AACxBuB,IAAAA,QAAQ,CAACtC,MAAM,CAACe,MAAR,EAAgBa,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwB/B,MAAxB,EAAgCtG,EAAhC,EAAoC;AAClC,MAAIgK,OAAO,GAAG1D,MAAM,CAAC0D,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAAChK,EAAD,CAAR,IAAgBsG,MAAM,CAACe,MAA3B,EAAmC;AACjC,WAAOgB,cAAc,CAAC/B,MAAM,CAACe,MAAR,EAAgBrH,EAAhB,CAArB;AACD;;AAED,MAAImH,aAAa,CAACnH,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACDmH,EAAAA,aAAa,CAACnH,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAIyK,MAAM,GAAGnE,MAAM,CAACoE,KAAP,CAAa1K,EAAb,CAAb;AAEAoH,EAAAA,cAAc,CAACH,IAAf,CAAoB,CAACX,MAAD,EAAStG,EAAT,CAApB;;AAEA,MAAIyK,MAAM,IAAIA,MAAM,CAAC/D,GAAjB,IAAwB+D,MAAM,CAAC/D,GAAP,CAAWG,gBAAX,CAA4BnF,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAOqI,UAAU,CAACzB,MAAM,CAACC,aAAR,EAAuBvI,EAAvB,CAAV,CAAqC2K,IAArC,CAA0C,UAAU3K,EAAV,EAAc;AAC7D,WAAOqI,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBvI,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAAS8I,YAAT,CAAsBxC,MAAtB,EAA8BtG,EAA9B,EAAkC;AAChC,MAAIyK,MAAM,GAAGnE,MAAM,CAACoE,KAAP,CAAa1K,EAAb,CAAb;AACAsG,EAAAA,MAAM,CAACM,OAAP,GAAiB,EAAjB;;AACA,MAAI6D,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAAC/D,GAAP,CAAWC,IAAX,GAAkBL,MAAM,CAACM,OAAzB;AACD;;AAED,MAAI6D,MAAM,IAAIA,MAAM,CAAC/D,GAAjB,IAAwB+D,MAAM,CAAC/D,GAAP,CAAWI,iBAAX,CAA6BpF,MAAzD,EAAiE;AAC/D+I,IAAAA,MAAM,CAAC/D,GAAP,CAAWI,iBAAX,CAA6B1F,OAA7B,CAAqC,UAAUwJ,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAACtE,MAAM,CAACM,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAON,MAAM,CAACoE,KAAP,CAAa1K,EAAb,CAAP;AACAsG,EAAAA,MAAM,CAACtG,EAAD,CAAN;AAEAyK,EAAAA,MAAM,GAAGnE,MAAM,CAACoE,KAAP,CAAa1K,EAAb,CAAT;;AACA,MAAIyK,MAAM,IAAIA,MAAM,CAAC/D,GAAjB,IAAwB+D,MAAM,CAAC/D,GAAP,CAAWG,gBAAX,CAA4BnF,MAAxD,EAAgE;AAC9D+I,IAAAA,MAAM,CAAC/D,GAAP,CAAWG,gBAAX,CAA4BzF,OAA5B,CAAoC,UAAUwJ,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"occupationActivityVis.600ad133.js","sourceRoot":"..","sourcesContent":["/**\n *   svgClass: tag for svg class, must include the '.'\n *   timeData: time data for records\n *   returns void, draws data vis for occupation.\n */\nfunction drawOccupationVis(svgClass, ikigaiData, typesData, everyoneData, email = null) {\n    let svg = d3.select(svgClass);\n    let height = svg.attr(\"height\");\n    let width = svg.attr(\"width\");\n    let averageLineWidth = 48;\n    let titleVerticalPadding = 70;\n    let legendVerticalPadding = padding * 2.5;\n    let interGraphVerticalPadding = 24;\n    let lineWidth = 1.5;\n\n    drawTitle(svg, \"Occupation\");\n    // console.log(typesData);\n\n    let ikigaiList = [{\n            category: 'bohemian',\n            title: 'bohemians',\n            id: 'Bohemian',\n            x: 0,\n            y: titleVerticalPadding\n        },\n        {\n            category: 'zen master',\n            title: 'zen masters',\n            id: 'Zen',\n            x: width / 2,\n            y: titleVerticalPadding\n        },\n        {\n            category: 'worker',\n            title: 'citizens',\n            id: 'Citizen',\n            x: 0,\n            y: titleVerticalPadding + (height - titleVerticalPadding - legendVerticalPadding) / 2 + interGraphVerticalPadding / 2\n        },\n        {\n            category: 'profiteer',\n            title: 'profiteers',\n            id: 'Profiteer',\n            x: width / 2,\n            y: titleVerticalPadding + (height - titleVerticalPadding - legendVerticalPadding) / 2 + interGraphVerticalPadding / 2\n        }\n    ];\n\n    let occupations = {\n        company: { title: \"Company\", description: \"Working for a company\" },\n        venture: { title: \"Venture\", description: \"Working for my own venture\" },\n        looking: { title: \"Looking\", description: \"Looking for jobs\" },\n        studying: { title: \"Studying\", description: \"Studying\" },\n        caring: { title: \"Caring\", description: \"Caring for family and friends\" },\n        exploring: { title: \"Exploring\", description: \"Exploring and enjoying life\" },\n        other: { title: \"Other\", description: \"Other\" }\n    };\n\n    let myData = null;\n    if (email != null) {\n        myData = {\n            ikigai: ikigaiData.find(d => { return d[keys.ikigai.email] == email })[keys.ikigai.category],\n            occupation: typesData.find(d => { return d[keys.types.email] == email })[keys.types.occupation]\n        }\n    }\n\n    // Determine average number of records for each occupation.\n    Object.keys(occupations).forEach(o => {\n        let emailsByOccupation = typesData.filter(d => { return d[keys.types.occupation] == occupations[o].description })\n            .map(d => { return d[keys.types.email] });\n        occupations[o].average = emailsByOccupation.length / ikigaiList.length;\n    });\n\n    // Get denominator for activity multiples.\n    let activityCountMap = {};\n    Object.keys(activityShortToLong).forEach(a => {\n        // Number of records for \"a\" activities in entire group (across all ikigai + all occupations) divided by \n        // number of records for all activities in entire group).\n        activityCountMap[a] = everyoneData.filter(d => {\n            return d[keys.everyone.activity].substring(0, 2) == a\n        }).length / everyoneData.length;\n    });\n\n    // Determine records per ikigai group.\n    ikigaiList.forEach(i => {\n        i.users = ikigaiData.filter(d => { return d[keys.ikigai.category] == i.category })\n            .map(d => { return d[keys.ikigai.email] });\n        // Get records per ikigai group.\n        i.records = everyoneData.filter(d => { return i.users.includes(d[keys.everyone.email]) });\n        Object.keys(occupations).forEach(o => {\n            let emailsByOccupation = typesData.filter(d => { return occupations[o].description == d[keys.types.occupation] })\n                .map(d => { return d[keys.types.email] });\n            i[o] = {};\n            // Get records per ikigai group and occupation.\n            i[o].users = i.users.filter(d => { return emailsByOccupation.includes(d) });\n            i[o].records = i.records.filter(d => { return emailsByOccupation.includes(d[keys.everyone.email]) });\n            Object.keys(activityShortToLong).forEach(a => {\n                // Get record count per ikigai group, occupation, and activity.\n                let recordCountByActivity = i[o].records.filter(d => { return d[keys.everyone.activity].substring(0, 2) == a }).length;\n                // Get activity multiple.\n                i[o][a] = (recordCountByActivity / i[o].records.length) / activityCountMap[a];\n                if (isNaN(i[o][a])) {\n                    i[o][a] = 0;\n                }\n            });\n        });\n    });\n\n    console.log(ikigaiList);\n\n    let maxUsers = d3.max(ikigaiList, i => {\n        return d3.max(Object.keys(occupations), o => {\n            return i[o].users.length\n        })\n    });\n    // console.log(maxUsers);\n\n    let graphAttr = {\n        textWidth: 100,\n        height: (height - titleVerticalPadding - legendVerticalPadding - interGraphVerticalPadding) / 2,\n        width: width / 2,\n        horizontalPadding: 12,\n        verticalPadding: 12\n    }\n\n    let occupationScale = d3.scaleLinear()\n        .domain([0, Object.keys(occupations).length - 1])\n        .range([graphAttr.textWidth + graphAttr.horizontalPadding * 4, graphAttr.width - graphAttr.horizontalPadding * 4]);\n    let usersScale = d3.scaleLinear()\n        .domain([0, maxUsers])\n        .range([graphAttr.height / 2, 0]);\n\n    // Add tooltip.\n    let tooltipId = \"occupationActivityTooltipId\";\n    let tooltip = addTooltip(tooltipId);\n\n    let baseImageSize = usersScale(0) - usersScale(1);\n    ikigaiList.forEach(ikigai => {\n        let ikigaiGraph = svg.append(\"g\")\n            .attr(\"transform\", \"translate(\" + ikigai.x + \", \" + ikigai.y + \")\");\n\n        Object.keys(occupations).forEach((o, i) => {\n            let occupation = occupations[o];\n            let overRepresentedActivity = \"none\";\n            let numRecords = ikigai[o].records.length;\n            let numUsers = ikigai[o].users.length;\n            let imageSize = baseImageSize;\n            let g = ikigaiGraph.append(\"g\");\n\n            d3.xml(\"images/\" + occupation.title + \".svg\").then(imageData => {\n                // console.log(imageData.documentElement);\n                // Find \"center\" to different height-width ratios.\n                let imageBounds = imageData.documentElement.viewBox.baseVal;\n                let imageHeight = graphAttr.height * 0.3;\n                let imageWidth = imageBounds.width / imageBounds.height * imageHeight;\n                g.append(\"image\")\n                    .attr(\"xlink:href\", \"images/\" + occupation.title + \".svg\")\n                    .attr(\"x\", occupationScale(i) - imageWidth / 2)\n                    .attr(\"y\", graphAttr.height / 2)\n                    .attr(\"width\", imageWidth)\n                    .attr(\"height\", imageHeight);\n            });\n\n            if (numRecords > 0) {\n                if (usersScale(0) - usersScale(numUsers) <= baseImageSize) {\n                    imageSize = usersScale(0) - usersScale(numUsers);\n                }\n                g.append(\"line\")\n                    .attr(\"x1\", occupationScale(i))\n                    .attr(\"x2\", occupationScale(i))\n                    .attr(\"y1\", usersScale(0))\n                    .attr(\"y2\", usersScale(numUsers) + imageSize)\n                    .attr(\"stroke\", ikigaiColorHexArray[ikigai.category])\n                    .attr(\"stroke-width\", lineWidth)\n                    .attr(\"stroke-linecap\", \"round\");\n            }\n\n            let maxActivityMultiple = d3.max(Object.keys(activityShortToLong), a => { return ikigai[o][a] });\n            if (maxActivityMultiple > 0) {\n                let maxActivity = Object.keys(activityShortToLong).find(a => { return ikigai[o][a] == maxActivityMultiple });\n                g.append(\"image\")\n                    .attr(\"xlink:href\", \"images/\" + maxActivity + \".svg\")\n                    .attr(\"x\", occupationScale(i) - imageSize / 2)\n                    .attr(\"y\", usersScale(numUsers))\n                    .attr(\"width\", imageSize)\n                    .attr(\"height\", imageSize)\n                    .attr(\"filter\", function() { return \"url(#\" + ikigai.id + \")\"; });\n                overRepresentedActivity = activityShortToLong[maxActivity];\n            }\n\n            if (occupation.average > 0) {\n                g.append(\"line\")\n                    .attr(\"x1\", occupationScale(i) - averageLineWidth / 2)\n                    .attr(\"x2\", occupationScale(i) + averageLineWidth / 2)\n                    .attr(\"y1\", usersScale(occupation.average))\n                    .attr(\"y2\", usersScale(occupation.average))\n                    .attr(\"stroke\", greyColor)\n                    .attr(\"stroke-width\", lineWidth)\n                    .attr(\"stroke-linecap\", \"round\");\n            }\n\n            let tooltipText = \"<b>IKIGAI GROUP:</b> \" + ikigai.title +\n                \"</br></br><b>OCCUPATION: </b>\" + occupations[o].description.toLowerCase() +\n                \"</br></br><b>NUMBER OF USERS: </b>\" + numUsers +\n                \"</br></br><b>OVER-REPRESENTED ACTIVITY: </b>\" + overRepresentedActivity.toLowerCase();\n\n            if (myData != null && myData.ikigai == ikigai.category && myData.occupation == occupations[o].description) {\n                tooltipText += \"</br></br><b>YOU ARE IN THIS IKIGAI/OCCUPATION GROUP</b>\"\n            }\n\n            g.on(\"mousemove\", function() {\n                // Show tooltip.\n                tooltip.html(tooltipText)\n                    .style(\"visibility\", \"visible\")\n                    .style(\"top\", event.pageY + 20)\n                    .style(\"left\", function() {\n                        if (d3.event.clientX < 750) {\n                            return event.pageX + 20 + \"px\";\n                        } else {\n                            return event.pageX - document.getElementById(tooltipId).clientWidth - 20 + \"px\";\n                        }\n                    })\n            }).on(\"mouseout\", function() {\n                tooltip.style(\"visibility\", \"hidden\");\n            });\n        });\n\n        drawText(ikigaiGraph, \"users\", {\n            x: graphAttr.textWidth,\n            y: usersScale(maxUsers),\n            textAnchor: \"end\"\n        });\n        drawText(ikigaiGraph, ikigai.title, {\n            x: graphAttr.textWidth,\n            y: graphAttr.height / 2,\n            textAnchor: \"end\",\n            fontWeight: \"bold\"\n        });\n        ikigaiGraph.append(\"line\")\n            .attr(\"x1\", graphAttr.textWidth + graphAttr.horizontalPadding)\n            .attr(\"x2\", graphAttr.width)\n            .attr(\"y1\", graphAttr.height / 2)\n            .attr(\"y2\", graphAttr.height / 2)\n            .attr(\"stroke\", greyColor)\n            .attr(\"stroke-width\", lineWidth)\n            .attr(\"stroke-linecap\", \"round\");\n    });\n\n    let colorLegendAttr = {\n        x: padding,\n        y: height - padding * 2.5,\n        width: 100,\n        circleRadius: 4,\n        verticalPadding: 18,\n        horizontalPadding: 16\n    }\n\n    let colorLegend = svg.append('g')\n        .attr('width', colorLegendAttr.width)\n        .attr('transform', 'translate(' + colorLegendAttr.x + ',' + colorLegendAttr.y + ')');\n\n    drawIkigaiColorLegend(colorLegend, colorLegendAttr);\n\n    let activityLegendAttr = {\n        x: colorLegendAttr.x + colorLegendAttr.width + 24,\n        y: height - padding * 2.5,\n        width: 200,\n        imageSize: 36\n    }\n\n    let activityLegend = svg.append('g')\n        .attr('width', activityLegendAttr.width)\n        .attr('transform', 'translate(' + activityLegendAttr.x + ',' + activityLegendAttr.y + ')');\n\n    activityLegend.append(\"image\")\n        .attr(\"xlink:href\", \"images/i10.svg\")\n        .attr(\"x\", activityLegendAttr.width / 2 - activityLegendAttr.imageSize / 2)\n        .attr(\"y\", 0)\n        .attr(\"width\", activityLegendAttr.imageSize)\n        .attr(\"height\", activityLegendAttr.imageSize);\n\n    drawText(activityLegend, \"over-represented\", {\n        x: activityLegendAttr.width / 2,\n        y: activityLegendAttr.imageSize + 16\n    });\n    drawText(activityLegend, \"activity\", {\n        x: activityLegendAttr.width / 2,\n        y: activityLegendAttr.imageSize + 32\n    });\n\n    let groupAverageAttr = {\n        x: activityLegendAttr.x + activityLegendAttr.width + 24,\n        y: height - padding * 2.5,\n        width: 200,\n        imageSize: 36\n    }\n\n    let groupAverageLegend = svg.append('g')\n        .attr('width', groupAverageAttr.width)\n        .attr('transform', 'translate(' + groupAverageAttr.x + ',' + groupAverageAttr.y + ')');\n\n    groupAverageLegend.append(\"line\")\n        .attr(\"x1\", 0)\n        .attr(\"x2\", averageLineWidth)\n        .attr(\"y1\", activityLegendAttr.imageSize + 16)\n        .attr(\"y2\", activityLegendAttr.imageSize + 16)\n        .attr(\"stroke\", greyColor)\n        .attr(\"stroke-width\", lineWidth)\n        .attr(\"stroke-linecap\", \"round\");\n\n    drawText(groupAverageLegend, \"entire group average\", {\n        x: averageLineWidth + 12,\n        y: activityLegendAttr.imageSize + 16,\n        textAnchor: \"start\"\n    });\n\n}","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}